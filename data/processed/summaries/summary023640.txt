NEW: Security forces kill 10 militants and destroy some hideouts.
A Taliban group claims responsibility, saying the mosque bombing was a reprisal attack.
The villagers had formed a resistance movement against the Taliban, the group says.
Khyber Agency is a volatile tribal region bordering Afghanistan.
