NEW: An ISAF commander offers his "sincere apologies," vows compensation.
NEW: He says the strike hit a building where insurgents -- and civilians -- were.
Afghanistan's president warns the U.S. military and government "for the last time".
Helmand province has been the scene of intense fighting this month.
