Telecommunications company challenged NSA's data collection, papers show.
The newly released documents show firms pressed U.S. to prove legality in 2010.
The companies had been criticized for not protecting customers' privacy.
