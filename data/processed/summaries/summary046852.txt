NEW: U.S. says it returned fire after Pakistanis fired shots at American copters.
Pakistani president says military fired only flares.
Attack comes after president, general warned foreign troops to stay out.
Pakistani, U.S. officials say they are working to resolve the issue.
