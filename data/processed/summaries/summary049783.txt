Officials rescinded job offer after learning of transition.
Ex-Army Special Forces officer David Schroer became Diane Schroer.
Judge finds discrimination on basis of gender.
ACLU applauds ruling; library has no comment.
