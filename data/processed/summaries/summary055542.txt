Former Gadhafi officials are now banned from official posts in Libya.
Armed protesters had pressed lawmakers to pass the law for months.
Head of parliament, prime minister may be affected by the law.
Law is "guilt by association" and unfair, Human Rights Watch says.
