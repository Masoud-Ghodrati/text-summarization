A source says the Afghan attacker was part of a local guard force.
A U.S. official says the American killed was a CIA employee.
The gunman shot indiscriminately, an official says.
