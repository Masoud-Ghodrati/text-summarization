Lonmin confirms it has agreed to settlement.
Final offer from Lonmin mining company gives miners raises of up to 22%.
34 miners were killed last month in a clash with police.
