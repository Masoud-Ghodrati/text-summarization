One family loses 18 members in the attack.
The Pakistani Taliban denies responsibility, condemns attack.
At least 40 were killed and about 100 wounded in an attack on historic Pakistani bazaar.
Witness: "Everything was on fire. Women and children were burning".
