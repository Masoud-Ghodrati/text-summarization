NEW: U.N. official calls the attack a "tragedy".
A truck full of explosives blew up in front a U.N. compound, local officials say.
An hours-long gunbattle followed the blast.
Afghan security forces kill four assailants, officials say.
