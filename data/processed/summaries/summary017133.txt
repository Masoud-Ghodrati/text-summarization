NEW: U.S. defense chief Robert Gates: U.S. withdrawal "would have to be conditions-based".
Gates, touring Camp Blackhorse in eastern Afghanistan, thanks Afghan soldiers for service.
Gates vows friendship with Afghans: "We will be your steadfast brothers in arms".
Iran's president also says Tehran "has innovative plans for resolving ongoing problems".
